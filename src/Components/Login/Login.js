import React, { useState } from "react";
import "./Login.scss";
import { withTranslation } from "react-i18next";

function validateEmail(email) {
  var re = /\S+@\S+\.\S+/;
  return re.test(email);
}

const Login = ({ t, ...props }) => {
  const [email, setEmail] = useState("");
  const [password, setPassword] = useState("");
  const [showPassword, setShowPassword] = useState(false);
  const [emailError, setEmailError] = useState(null);
  const [passwordError, setPasswordError] = useState(null);

  const onEmailBlur = (e) => {
    if (!validateEmail(e.target.value)) {
      setEmailError(t("email_not_allowed_chars"));
    }
  };

  const onEmailFocused = (e) => {
    setEmailError(null);
  };

  return (
    <div className="login-wrapper">
      <div className="login">
        <h3>{t("login")}</h3>
        <div className="login-input-wrap">
          <h3>{t("email")}</h3>
          <input
            onChange={(e) => setEmail(e.target.value)}
            onBlur={onEmailBlur}
            onFocus={onEmailFocused}
            value={email}
            placeholder={t("email_placeholder")}
            className={emailError ? "error" : ""}
          />
          {emailError && <p>{emailError}</p>}
        </div>
        <div style={{ marginTop: "18px" }} className="login-input-wrap">
          <h3>{t("password")}</h3>
          <span>
            <input
              onChange={(e) => setPassword(e.target.value)}
              value={password}
              type={showPassword ? "text" : "password"}
              placeholder={t("password_placeholder")}
              className={passwordError ? "error" : ""}
            />
            {showPassword ? (
              <svg
                onClick={(e) => setShowPassword(!showPassword)}
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M11.9999 5C8.24249 5 5.4359 7.4404 3.76725 9.43934C2.51508 10.9394 2.51508 13.0606 3.76725 14.5607C5.4359 16.5596 8.24249 19 11.9999 19C15.7573 19 18.5639 16.5596 20.2325 14.5607C21.4847 13.0606 21.4847 10.9394 20.2325 9.43934C18.5639 7.4404 15.7573 5 11.9999 5Z"
                  stroke="#525252"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M11.9999 15C13.6567 15 14.9999 13.6569 14.9999 12C14.9999 10.3431 13.6567 9 11.9999 9C10.343 9 8.99988 10.3431 8.99988 12C8.99988 13.6569 10.343 15 11.9999 15Z"
                  stroke="#525252"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            ) : (
              <svg
                onClick={(e) => setShowPassword(!showPassword)}
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M9.76404 5.29519C10.4664 5.10724 11.2123 5 12 5C15.7574 5 18.564 7.4404 20.2326 9.43934C21.4848 10.9394 21.4846 13.0609 20.2324 14.5609C20.0406 14.7907 19.8337 15.0264 19.612 15.2635M12.5 9.04148C13.7563 9.25224 14.7478 10.2437 14.9585 11.5M3 3L21 21M11.5 14.9585C10.4158 14.7766 9.52884 14.0132 9.17072 13M4.34914 8.77822C4.14213 9.00124 3.94821 9.22274 3.76762 9.43907C2.51542 10.9391 2.51523 13.0606 3.76739 14.5607C5.43604 16.5596 8.24263 19 12 19C12.8021 19 13.5608 18.8888 14.2744 18.6944"
                  stroke="#525252"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            )}
          </span>
          {passwordError && <p>{passwordError}</p>}
        </div>

        <div style={{ marginTop: "18px" }} className="complex-divider">
          <div className="divider" />
          <p>{t("or")}</p>
          <div className="divider" />
        </div>

        <div className="signin-methods">
          <svg
            width="48"
            height="48"
            viewBox="0 0 48 48"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect width="48" height="48" rx="24" fill="#5181B8" />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M39.2658 16.5348C39.4884 15.7932 39.2658 15.248 38.2071 15.248H34.7062C33.816 15.248 33.4059 15.7189 33.1834 16.2383C33.1834 16.2383 31.403 20.5775 28.8809 23.3962C28.0649 24.2121 27.6941 24.4715 27.249 24.4715C27.0264 24.4715 26.7044 24.2121 26.7044 23.4705V16.5348C26.7044 15.6446 26.4461 15.248 25.7041 15.248H20.2028C19.6467 15.248 19.3121 15.6611 19.3121 16.0527C19.3121 16.8967 20.5729 17.0912 20.703 19.4648V24.6202C20.703 25.7505 20.4989 25.9555 20.0538 25.9555C18.867 25.9555 15.9804 21.5965 14.268 16.6091C13.9324 15.6396 13.5958 15.248 12.7011 15.248H9.20028C8.20005 15.248 8 15.7189 8 16.2383C8 17.1655 9.18703 21.7646 13.5263 27.847C16.4195 32.0005 20.4949 34.2525 24.2038 34.2525C26.4293 34.2525 26.7044 33.7524 26.7044 32.8909V29.7514C26.7044 28.7512 26.9152 28.5517 27.6196 28.5517C28.1392 28.5517 29.0292 28.8112 31.1064 30.8139C33.4799 33.1872 33.871 34.2525 35.2064 34.2525H38.7072C39.7074 34.2525 40.2075 33.7524 39.919 32.7654C39.6034 31.7817 38.4701 30.3548 36.9663 28.6629C36.1503 27.6985 34.9263 26.66 34.5557 26.1408C34.0363 25.4732 34.1846 25.1766 34.5557 24.5835C34.5557 24.5835 38.8207 18.5751 39.2658 16.5351V16.5348Z"
              fill="white"
            />
          </svg>

          <svg
            width="48"
            height="48"
            viewBox="0 0 48 48"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect width="48" height="48" rx="24" fill="#005FF9" />
            <path
              d="M28.8126 24C28.8126 26.6537 26.6537 28.8126 24 28.8126C21.3463 28.8126 19.1874 26.6537 19.1874 24C19.1874 21.3463 21.3463 19.1874 24 19.1874C26.6537 19.1874 28.8126 21.3463 28.8126 24ZM24 8C15.1771 8 8 15.1771 8 24C8 32.8229 15.1771 40 24 40C27.232 40 30.3486 39.0377 33.0126 37.2171L33.0583 37.1851L30.9029 34.68L30.8663 34.7029C28.816 36.0229 26.4411 36.72 24 36.72C16.9863 36.72 11.28 31.0137 11.28 24C11.28 16.9863 16.9863 11.28 24 11.28C31.0137 11.28 36.72 16.9863 36.72 24C36.72 24.9086 36.6183 25.8286 36.4206 26.7337C36.0183 28.3851 34.8617 28.8903 33.9943 28.824C33.1211 28.7531 32.0994 28.1314 32.0926 26.6091V25.4491V24C32.0926 19.5371 28.4629 15.9074 24 15.9074C19.5371 15.9074 15.9074 19.5371 15.9074 24C15.9074 28.4629 19.5371 32.0926 24 32.0926C26.168 32.0926 28.2011 31.2457 29.7337 29.704C30.6251 31.0914 32.0777 31.9611 33.7314 32.0937C33.8731 32.1051 34.0183 32.1109 34.1611 32.1109C35.3257 32.1109 36.4789 31.7211 37.4091 31.016C38.368 30.2869 39.0846 29.2343 39.48 27.9691C39.5429 27.7646 39.6594 27.2971 39.6594 27.2937L39.6629 27.2766C39.896 26.2617 40 25.2503 40 24C40 15.1771 32.8229 8 24 8Z"
              fill="white"
            />
          </svg>

          <svg
            width="48"
            height="48"
            viewBox="0 0 48 48"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect width="48" height="48" rx="24" fill="#FF0000" />
            <path
              d="M29.917 8H25.0684C20.304 8 16.2637 11.6264 16.2637 18.6671C16.2637 22.8909 18.2204 26.005 21.7076 27.5412L15.2003 39.3175C14.9873 39.7021 15.2003 40 15.5404 40H18.5603C18.8154 40 18.9863 39.9151 19.0712 39.7021L24.9832 28.1389H27.1099V39.7021C27.1099 39.8292 27.237 40 27.4072 40H30.0447C30.2999 40 30.3848 39.8721 30.3848 39.6599V8.42656C30.385 8.12788 30.2151 8 29.917 8ZM27.1098 25.4084H25.3234C22.5165 25.4084 19.7946 23.3604 19.7946 18.2404C19.7946 12.9062 22.3464 10.7305 24.9404 10.7305H27.1099V25.4084H27.1098Z"
              fill="white"
            />
          </svg>

          <svg
            width="48"
            height="48"
            viewBox="0 0 48 48"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect width="48" height="48" rx="24" fill="#EA4335" />
            <path
              d="M8.01003 24.021C7.69024 15.6014 15.0651 7.82061 23.4932 7.71966C27.7888 7.35328 31.9679 9.0214 35.2187 11.7421C33.8852 13.2083 32.5284 14.6575 31.0791 16.0143C28.2173 14.2756 24.7717 12.9506 21.427 14.1274C16.0322 15.6635 12.7652 22.0331 14.7616 27.3107C16.4148 32.8226 23.1191 35.8475 28.3733 33.532C31.094 32.5578 32.8877 30.0476 33.6749 27.3502C30.5568 27.2881 27.438 27.3269 24.3199 27.2408C24.3121 25.3856 24.3043 23.5375 24.3121 21.6823C29.512 21.6745 34.7196 21.659 39.9273 21.7056C40.2471 26.2511 39.5764 31.1156 36.6214 34.7639C32.575 39.9715 25.0992 41.4999 19.0176 39.4569C12.5633 37.337 7.86955 30.8347 8.01003 24.021Z"
              fill="white"
            />
          </svg>

          <svg
            width="48"
            height="48"
            viewBox="0 0 48 48"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect width="48" height="48" rx="24" fill="#373535" />
            <path
              d="M24.1903 16.7447C23.0053 16.7447 21.1709 15.3974 19.2392 15.4461C16.6906 15.4785 14.3531 16.9233 13.0382 19.2121C10.3922 23.806 12.3564 30.5914 14.9375 34.325C16.2036 36.1431 17.6971 38.1884 19.6775 38.1235C21.5767 38.0423 22.291 36.8898 24.5961 36.8898C26.8849 36.8898 27.5342 38.1235 29.5471 38.0748C31.5925 38.0423 32.8911 36.2242 34.1411 34.3899C35.5858 32.2796 36.1864 30.2343 36.2189 30.1206C36.1702 30.1044 32.2418 28.5947 32.1931 24.0495C32.1606 20.251 35.2936 18.4329 35.4397 18.3518C33.6541 15.7383 30.9107 15.4461 29.953 15.3811C27.4531 15.1863 25.359 16.7447 24.1903 16.7447ZM28.4108 12.9137C29.466 11.6476 30.164 9.87816 29.9692 8.125C28.4595 8.18993 26.6414 9.13144 25.5538 10.3976C24.5798 11.5177 23.7357 13.3195 23.963 15.0402C25.635 15.1701 27.3557 14.1799 28.4108 12.9137Z"
              fill="white"
            />
          </svg>
        </div>

        <button style={{ marginTop: "24px" }}>{t("sign_in")}</button>

        <div className="login-help-line">
          <p>
            {t("forgot_password")} <a>{t("reset_password")}</a>
          </p>
        </div>

        <div className="login-help-line">
          <p>
            {t("no_account")} <a>{t("signup")}</a>
          </p>
        </div>
      </div>
    </div>
  );
};

export default withTranslation()(Login);
